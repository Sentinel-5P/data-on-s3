# Introduction

This is an introduction document to the MEEO-AWS-S3 project. [Sentinel-3](https://sentinel.esa.int/web/sentinel/missions/sentinel-3) is a Copernicus satellite whose main three sensors are:

- Ocean and Land Colour Instrument (**OLCI**) for medium resolution marine and terrestrial optical measurements.
- Sea and Land Surface Temperature Radiometer (**SLSTR**) for thermal measurements(both marine and terrestrial), land monitoring and fire detection.
- SAR Radar Altimeter (**SRAL**) together with the MicroWave Radiometer (**MWR**) and Precise Orbit Determination (**POD**) for ocean topography measurements.

For this project we are focusing on:

- OLCI and SLSTR Level 1, Level 2 and Level 3 products.
- SRAL and MWR Level 1 and Level 2 products.


## Official ESA Documents

For each of the three sensors on board of Sentinel-3 the full set of technical documents is available at the following links:


- [S3-OLCI Document Library](https://sentinel.esa.int/web/sentinel/user-guides/sentinel-3-olci/document-library)
- [S3-SLSTR Document Library](https://sentinel.esa.int/web/sentinel/user-guides/sentinel-3-slstr)
- [S3-ALT Document Library](https://sentinel.esa.int/web/sentinel/user-guides/sentinel-3-altimetry)


### Types of Data Contained in the **MEEO-S3** Buckets

The Sentinel-3 data are divided by type, and organized in buckets as described below:

1.  **meeo-s3** bucket
- **Near Real Time (NRT)**: it implies a delivery in less than 3 hours after data acquisition. This timeliness is mainly used for marine meteorology and ocean-atmosphere gas transfer studies
- **Short Time Critical (STC)**: data products are delivered within 48 hours after data acquisition, due mainly to the consolidation of some data (e.g.preliminary restituted orbit data) and the data are mainly used for geophysical studies and operational oceanography. (Option available only for SRAL data)
- **Non-Time Critical (NTC)** : it is typically defined for deliveries within 1 month after data acquisition. This additional delay allows consolidation of some auxiliary or ancillary data (e.g. precise orbit data) and the data are mainly used for geophysical studies and operational oceanography
2.  **meeo-s3-cog** bucket
- **Cloud Optimised Geo-TIFF (COG)**: these files are generated by MEEO from NRT, STC and NTC data shortly after the official Sentinel-3 data becomes available. These files are in the Cloud Optimised Geo-TIFF image file format

The buckets contain the following Sentinel-3 data products:

## Level 1 Products 

**OLCI Level 1 Products**

|  **Description** | **Product type** (6 Chars) |
| -------------|:-------------------------------:|
| Full Resolution Top Of Atmosphere radiance | EFR___ |
| Reduced Resolution Top Of Atmosphere radiance | ERR___ |



**SLSTR Level 1 Products**

|  **Description** | **Product type** (6 Chars) |
| -------------|:-------------------------------:|
| Brightness temperatures and radiances | RBT___ |



**SRAL Level 1 products**

|  **Description** | **Product type** (11 Chars) | 
| -------------|:-------------------------------:|
|  Echos parameters for LRM, PLRM and SAR mode (resolution 20Hz) | SRA___ |
|  Echos parameters for PLRM and SAR mode (resolution 80Hz)      | SRA_A_ |     
|  Echos parameters for LRM, PLRM and SAR mode (resolution 20Hz) completed with SAR expert information | SRA_BS |  




## Level 2 Products

**OLCI Level 2 Products**

|  Description | Product Type (11 Chars) |
| ---------------|:-------------:|
| Full resolution ocean colour, water and atmosphere parameters | WFR___ |
| Reduced resolution ocean colour, water and atmosphere parameters | WRR___ |
| Full resolution land colour and atmosphere parameters | LFR___ |
| Reduced resolution land colour and atmosphere parameters | LRR___ |
      
   
**SLSTR Level 2 Products**

| Description                                             | Product Type (6 Chars) |
| --------------------------------------------------------| :---------------------: | 
| Level-2P sea surface temperature (GHRSST-like | WST___ |
| Land surface temperature parameters | LST___ |
| Fire radiative power | FPR___ |
| Reduced resolution land colour and atmosphere parameters | LRR___ |


**SRAL Level 2 products**

| Description                                             | Product Type (6 Chars) |
| --------------------------------------------------------| :--------------------: |
| 1-Hz and 20-Hz Ku and C bands parameters (LRM/SAR/PLRM), waveforms. Over Land | LAN___ |
| 1-Hz and 20-Hz Ku and C bands parameters (LRM/SAR/PLRM), waveforms. Over Water | WAT___ |


**SYNERGY Level 2 Products**

| Description                                                  |  Product type (6 Chars) |
| ------------------------------------------------------------ | :---------------------: |
| Surface Reflectance and Aerosol parameters over Land         | SYN___ |
| 1 km VEGETATION-Like product (~VGT-P) - TOA Reflectance      | VGP___ |
| Surface reflectance over Landâ€“ used as input for VG-S product | VGK___ |
| 1 km VEGETATION-Like product (~VGT-S1) 1 day synthesis surface reflectance and NDVI | VG1___ |
| 1 km VEGETATION-Like product (~VGT-S10) 10 day synthesis surface reflectance and NDVI | v10___ |



## File Names and Path Structure of Buckets

### File Names

The Sentinel-3 data products mantain the same structure of the filename for all the three sensors and for each processing level. The general filenaming convention is a as follows:


> **MMM_II_L_TTTTTT_yyyymmddThhmmss_YYYYMMDDTHHMMSS_YYYYMMDDTHHMMSS_[instance ID]\_GGG\_[class ID].SEN3** 

where:

**MMM (3 characthers)**: mission ID (S3A = Sentinel-3A, S3B = Sentinel-3B, S3_ = Sentinel-3).

**II (2 characters)**: the data source/consumer (OL = OLCI, SL = SLSTR, SY = Synergy, SR = SRAL).

**L (1 character)** : processing level (1 = Level-1, 2 = Level-2, 3 = Level3).

**TTTTTT (5 characters)** : data type ID (e.g.: EFR___ ).

**yyyymmddThhmmss (15 characters)** : Data Start time.

**YYYYMMDDTHHMMSS (15 characters)** : Data Stop time.

**YYYYMMDDTHHMMSS (15 characters)**: Creation date of the product.

**[instance ID] (15 characters)** : the general structure is **DDD_CCC_LLL_FFFF** with the following fields:

 - **DDDD**: orbit duration Sensing data time interval in seconds
 - **CCC**: cycle number at the start sensing time of the product
 - **LLL**: relative orbit number within the cycle at the start sensing time of the product
 - **FFFF** : frame along track coordinate (it is replaced by **____** for the SRAL products)
 
**GGG (3 characters)** : product generating centre (eg. "MAR" for Marine Processing and Archiving Centre).

**[class id] (8 characters)** : the structure is  **P_XX_NNN** where:
  - **P** :  platform (e.g. O for operational)
  - **XX** : timeliness of the processing workflow (e.g. NR for NRT,ST for STC, NT for NTC)
  - **NNN** : Free text for indicating the baseline collection (001, 002,... .) or data usage.
 
**SEN3 (4 characters)** : filename extension.


### Buckets structure and constructing a path to a file

The bucket name for the Sentinel-3 native data is:
- **s3://meeo-s3**


A directory structure has been added to help with data discovery. This directory structure is based on the filename and is as follows:

- **XXX** : timeliness ( NRT for NR, STC for ST, NTC for NT)instrument (OL, SL, SR, SY)
- **MMM** : mission name (S3A, S3B, S3_)
- **PPPPPPPPPPP** : product type (11 characters made of: **II_L_TTTTTT** )
- **YYYY** : Acquisition Year
- **MM** : Acqusition Month 
- **DD** : Acquisition Day 

For example, to construct the path to the file below:

_S3A_OL_1_EFR____20200426T100156_20200426T100456_20200426T115453_0179_057_293_2160_LN1_O_NR_002.SEN3_

1. Start with the S3 bucket section: **meeo-s3/NRT/S3A/**
2. Then get the path to the _directory_ : **/OL_1_EFR____/2020/04/26/**
3. This gives the path: **meeo-s3/NRT/S3A/OL_1_EFR____/2020/04/26/**
4. Now append the file name to the directory path : **S3A_OL_1_EFR____20200426T100156_20200426T100456_20200426T115453_0179_057_293_2160_LN1_O_NR_002.SEN3**


Finally we have a path to the desired file:

[s3://meeo-s3/NRT/S3A/OL_1_EFR____/2020/04/26/S3A_OL_1_EFR____20200426T100156_20200426T100456_20200426T115453_0179_057_293_2160_LN1_O_NR_002.SEN3](s3://meeo-s3/NRT/S3A/OL_1_EFR____/2020/04/26/S3A_OL_1_EFR____20200426T100156_20200426T100456_20200426T115453_0179_057_293_2160_LN1_O_NR_002.SEN3)


### Cloud Optimised Geo-TIFF
The bucket name for the Sentinel-3 Cloud Optimised Geo-TIFF data is:
- **s3://meeo-s3-cog**

Geo-TIFFs are image files that have been generated from the original netCDF files that are contained in the .SEN3 folder associated to every Sentinel-3 data product.

The paths to the **Geo-TIFF** files are constructed as for Sentinel-3 native data without **.SEN3** extension but in addition the subdataset name and the **.tif** extension 

> **s3://meeo-s3/NTC/S3A/SL_2_LST___/2021/01/10/S3A_SL_2_LST____20210110T230550_20210110T230850_20210112T042128_0179_067_144_1620_LN2_O_NT_004.SEN3/LST_in.nc**
> 
>  becomes
>  
> **s3://meeo-s3-cog/NTC/S3A/SL_2_LST___/2021/01/10/S3A_SL_2_LST____20210110T230550_20210110T230850_20210112T042128_0179_067_144_1620_LN2_O_NT_004_LST.tif**


## SpatioTemporal Asset Catalog (STAC)

MEEO has implemented SpatioTemporal Asset Catalog for [Sentinel-3](https://meeo-s3.s3.amazonaws.com/index.html#/?t=catalogs) and [Sentinel-3 COG](https://meeo-s3-cog.s3.amazonaws.com/index.html#/?t=catalogs) data archives. The catalogue is updated daily. You can read more about STAC [here](https://stacspec.org/).
